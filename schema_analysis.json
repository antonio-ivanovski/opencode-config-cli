{
	"agent": {
		"description": "Agent configuration, see https://opencode.ai/docs/agents",
		"type": "object",
		"properties": {
			"plan": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			},
			"build": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			},
			"general": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			},
			"explore": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			},
			"title": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			},
			"summary": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			},
			"compaction": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		"additionalProperties": {
			"ref": "AgentConfig",
			"type": "object",
			"properties": {
				"model": {
					"$ref": "https://models.dev/model-schema.json#/$defs/Model",
					"type": "string"
				},
				"variant": {
					"description": "Default model variant for this agent (applies only when using the agent's configured model).",
					"type": "string"
				},
				"temperature": {
					"type": "number"
				},
				"top_p": {
					"type": "number"
				},
				"prompt": {
					"type": "string"
				},
				"tools": {
					"description": "@deprecated Use 'permission' field instead",
					"type": "object",
					"propertyNames": {
						"type": "string"
					},
					"additionalProperties": {
						"type": "boolean"
					}
				},
				"disable": {
					"type": "boolean"
				},
				"description": {
					"description": "Description of when to use the agent",
					"type": "string"
				},
				"mode": {
					"type": "string",
					"enum": ["subagent", "primary", "all"]
				},
				"hidden": {
					"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
					"type": "boolean"
				},
				"options": {
					"type": "object",
					"propertyNames": {
						"type": "string"
					},
					"additionalProperties": {}
				},
				"color": {
					"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
					"anyOf": [
						{
							"type": "string",
							"pattern": "^#[0-9a-fA-F]{6}$"
						},
						{
							"type": "string",
							"enum": [
								"primary",
								"secondary",
								"accent",
								"success",
								"warning",
								"error",
								"info"
							]
						}
					]
				},
				"steps": {
					"description": "Maximum number of agentic iterations before forcing text-only response",
					"type": "integer",
					"exclusiveMinimum": 0,
					"maximum": 9007199254740991
				},
				"maxSteps": {
					"description": "@deprecated Use 'steps' field instead.",
					"type": "integer",
					"exclusiveMinimum": 0,
					"maximum": 9007199254740991
				},
				"permission": {
					"ref": "PermissionConfig",
					"anyOf": [
						{
							"type": "object",
							"properties": {
								"__originalKeys": {
									"type": "array",
									"items": {
										"type": "string"
									}
								},
								"read": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								},
								"edit": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								},
								"glob": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								},
								"grep": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								},
								"list": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								},
								"bash": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								},
								"task": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								},
								"external_directory": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								},
								"todowrite": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								"todoread": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								"question": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								"webfetch": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								"websearch": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								"codesearch": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								"lsp": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								},
								"doom_loop": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								"skill": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							"additionalProperties": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					]
				}
			},
			"additionalProperties": {}
		}
	},
	"mcp": {
		"description": "MCP (Model Context Protocol) server configurations",
		"type": "object",
		"propertyNames": {
			"type": "string"
		},
		"additionalProperties": {
			"anyOf": [
				{
					"anyOf": [
						{
							"ref": "McpLocalConfig",
							"type": "object",
							"properties": {
								"type": {
									"description": "Type of MCP server connection",
									"type": "string",
									"const": "local"
								},
								"command": {
									"description": "Command and arguments to run the MCP server",
									"type": "array",
									"items": {
										"type": "string"
									}
								},
								"environment": {
									"description": "Environment variables to set when running the MCP server",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"type": "string"
									}
								},
								"enabled": {
									"description": "Enable or disable the MCP server on startup",
									"type": "boolean"
								},
								"timeout": {
									"description": "Timeout in ms for MCP server requests. Defaults to 5000 (5 seconds) if not specified.",
									"type": "integer",
									"exclusiveMinimum": 0,
									"maximum": 9007199254740991
								}
							},
							"required": ["type", "command"],
							"additionalProperties": false
						},
						{
							"ref": "McpRemoteConfig",
							"type": "object",
							"properties": {
								"type": {
									"description": "Type of MCP server connection",
									"type": "string",
									"const": "remote"
								},
								"url": {
									"description": "URL of the remote MCP server",
									"type": "string"
								},
								"enabled": {
									"description": "Enable or disable the MCP server on startup",
									"type": "boolean"
								},
								"headers": {
									"description": "Headers to send with the request",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"type": "string"
									}
								},
								"oauth": {
									"description": "OAuth authentication configuration for the MCP server. Set to false to disable OAuth auto-detection.",
									"anyOf": [
										{
											"ref": "McpOAuthConfig",
											"type": "object",
											"properties": {
												"clientId": {
													"description": "OAuth client ID. If not provided, dynamic client registration (RFC 7591) will be attempted.",
													"type": "string"
												},
												"clientSecret": {
													"description": "OAuth client secret (if required by the authorization server)",
													"type": "string"
												},
												"scope": {
													"description": "OAuth scopes to request during authorization",
													"type": "string"
												}
											},
											"additionalProperties": false
										},
										{
											"type": "boolean",
											"const": false
										}
									]
								},
								"timeout": {
									"description": "Timeout in ms for MCP server requests. Defaults to 5000 (5 seconds) if not specified.",
									"type": "integer",
									"exclusiveMinimum": 0,
									"maximum": 9007199254740991
								}
							},
							"required": ["type", "url"],
							"additionalProperties": false
						}
					]
				},
				{
					"type": "object",
					"properties": {
						"enabled": {
							"type": "boolean"
						}
					},
					"required": ["enabled"],
					"additionalProperties": false
				}
			]
		}
	},
	"unions": [
		{
			"path": "properties.autoupdate",
			"key": "anyOf",
			"definition": {
				"description": "Automatically update to the latest version. Set to true to auto-update, false to disable, or 'notify' to show update notifications",
				"anyOf": [
					{
						"type": "boolean"
					},
					{
						"type": "string",
						"const": "notify"
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.color",
			"key": "anyOf",
			"definition": {
				"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
				"anyOf": [
					{
						"type": "string",
						"pattern": "^#[0-9a-fA-F]{6}$"
					},
					{
						"type": "string",
						"enum": [
							"primary",
							"secondary",
							"accent",
							"success",
							"warning",
							"error",
							"info"
						]
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.models.additionalProperties.properties.interleaved",
			"key": "anyOf",
			"definition": {
				"anyOf": [
					{
						"type": "boolean",
						"const": true
					},
					{
						"type": "object",
						"properties": {
							"field": {
								"type": "string",
								"enum": ["reasoning_content", "reasoning_details"]
							}
						},
						"required": ["field"],
						"additionalProperties": false
					}
				]
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.options.properties.timeout",
			"key": "anyOf",
			"definition": {
				"description": "Timeout in milliseconds for requests to this provider. Default is 300000 (5 minutes). Set to false to disable timeout.",
				"anyOf": [
					{
						"description": "Timeout in milliseconds for requests to this provider. Default is 300000 (5 minutes). Set to false to disable timeout.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					{
						"description": "Disable timeout for this provider entirely.",
						"type": "boolean",
						"const": false
					}
				]
			}
		},
		{
			"path": "properties.mcp.additionalProperties",
			"key": "anyOf",
			"definition": {
				"anyOf": [
					{
						"anyOf": [
							{
								"ref": "McpLocalConfig",
								"type": "object",
								"properties": {
									"type": {
										"description": "Type of MCP server connection",
										"type": "string",
										"const": "local"
									},
									"command": {
										"description": "Command and arguments to run the MCP server",
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"environment": {
										"description": "Environment variables to set when running the MCP server",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"type": "string"
										}
									},
									"enabled": {
										"description": "Enable or disable the MCP server on startup",
										"type": "boolean"
									},
									"timeout": {
										"description": "Timeout in ms for MCP server requests. Defaults to 5000 (5 seconds) if not specified.",
										"type": "integer",
										"exclusiveMinimum": 0,
										"maximum": 9007199254740991
									}
								},
								"required": ["type", "command"],
								"additionalProperties": false
							},
							{
								"ref": "McpRemoteConfig",
								"type": "object",
								"properties": {
									"type": {
										"description": "Type of MCP server connection",
										"type": "string",
										"const": "remote"
									},
									"url": {
										"description": "URL of the remote MCP server",
										"type": "string"
									},
									"enabled": {
										"description": "Enable or disable the MCP server on startup",
										"type": "boolean"
									},
									"headers": {
										"description": "Headers to send with the request",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"type": "string"
										}
									},
									"oauth": {
										"description": "OAuth authentication configuration for the MCP server. Set to false to disable OAuth auto-detection.",
										"anyOf": [
											{
												"ref": "McpOAuthConfig",
												"type": "object",
												"properties": {
													"clientId": {
														"description": "OAuth client ID. If not provided, dynamic client registration (RFC 7591) will be attempted.",
														"type": "string"
													},
													"clientSecret": {
														"description": "OAuth client secret (if required by the authorization server)",
														"type": "string"
													},
													"scope": {
														"description": "OAuth scopes to request during authorization",
														"type": "string"
													}
												},
												"additionalProperties": false
											},
											{
												"type": "boolean",
												"const": false
											}
										]
									},
									"timeout": {
										"description": "Timeout in ms for MCP server requests. Defaults to 5000 (5 seconds) if not specified.",
										"type": "integer",
										"exclusiveMinimum": 0,
										"maximum": 9007199254740991
									}
								},
								"required": ["type", "url"],
								"additionalProperties": false
							}
						]
					},
					{
						"type": "object",
						"properties": {
							"enabled": {
								"type": "boolean"
							}
						},
						"required": ["enabled"],
						"additionalProperties": false
					}
				]
			}
		},
		{
			"path": "properties.mcp.additionalProperties.anyOf[0]",
			"key": "anyOf",
			"definition": {
				"anyOf": [
					{
						"ref": "McpLocalConfig",
						"type": "object",
						"properties": {
							"type": {
								"description": "Type of MCP server connection",
								"type": "string",
								"const": "local"
							},
							"command": {
								"description": "Command and arguments to run the MCP server",
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"environment": {
								"description": "Environment variables to set when running the MCP server",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "string"
								}
							},
							"enabled": {
								"description": "Enable or disable the MCP server on startup",
								"type": "boolean"
							},
							"timeout": {
								"description": "Timeout in ms for MCP server requests. Defaults to 5000 (5 seconds) if not specified.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							}
						},
						"required": ["type", "command"],
						"additionalProperties": false
					},
					{
						"ref": "McpRemoteConfig",
						"type": "object",
						"properties": {
							"type": {
								"description": "Type of MCP server connection",
								"type": "string",
								"const": "remote"
							},
							"url": {
								"description": "URL of the remote MCP server",
								"type": "string"
							},
							"enabled": {
								"description": "Enable or disable the MCP server on startup",
								"type": "boolean"
							},
							"headers": {
								"description": "Headers to send with the request",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "string"
								}
							},
							"oauth": {
								"description": "OAuth authentication configuration for the MCP server. Set to false to disable OAuth auto-detection.",
								"anyOf": [
									{
										"ref": "McpOAuthConfig",
										"type": "object",
										"properties": {
											"clientId": {
												"description": "OAuth client ID. If not provided, dynamic client registration (RFC 7591) will be attempted.",
												"type": "string"
											},
											"clientSecret": {
												"description": "OAuth client secret (if required by the authorization server)",
												"type": "string"
											},
											"scope": {
												"description": "OAuth scopes to request during authorization",
												"type": "string"
											}
										},
										"additionalProperties": false
									},
									{
										"type": "boolean",
										"const": false
									}
								]
							},
							"timeout": {
								"description": "Timeout in ms for MCP server requests. Defaults to 5000 (5 seconds) if not specified.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							}
						},
						"required": ["type", "url"],
						"additionalProperties": false
					}
				]
			}
		},
		{
			"path": "properties.mcp.additionalProperties.anyOf[0].anyOf[1].properties.oauth",
			"key": "anyOf",
			"definition": {
				"description": "OAuth authentication configuration for the MCP server. Set to false to disable OAuth auto-detection.",
				"anyOf": [
					{
						"ref": "McpOAuthConfig",
						"type": "object",
						"properties": {
							"clientId": {
								"description": "OAuth client ID. If not provided, dynamic client registration (RFC 7591) will be attempted.",
								"type": "string"
							},
							"clientSecret": {
								"description": "OAuth client secret (if required by the authorization server)",
								"type": "string"
							},
							"scope": {
								"description": "OAuth scopes to request during authorization",
								"type": "string"
							}
						},
						"additionalProperties": false
					},
					{
						"type": "boolean",
						"const": false
					}
				]
			}
		},
		{
			"path": "properties.formatter",
			"key": "anyOf",
			"definition": {
				"anyOf": [
					{
						"type": "boolean",
						"const": false
					},
					{
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "object",
							"properties": {
								"disabled": {
									"type": "boolean"
								},
								"command": {
									"type": "array",
									"items": {
										"type": "string"
									}
								},
								"environment": {
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"type": "string"
									}
								},
								"extensions": {
									"type": "array",
									"items": {
										"type": "string"
									}
								}
							},
							"additionalProperties": false
						}
					}
				]
			}
		},
		{
			"path": "properties.lsp",
			"key": "anyOf",
			"definition": {
				"anyOf": [
					{
						"type": "boolean",
						"const": false
					},
					{
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"anyOf": [
								{
									"type": "object",
									"properties": {
										"disabled": {
											"type": "boolean",
											"const": true
										}
									},
									"required": ["disabled"],
									"additionalProperties": false
								},
								{
									"type": "object",
									"properties": {
										"command": {
											"type": "array",
											"items": {
												"type": "string"
											}
										},
										"extensions": {
											"type": "array",
											"items": {
												"type": "string"
											}
										},
										"disabled": {
											"type": "boolean"
										},
										"env": {
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"type": "string"
											}
										},
										"initialization": {
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {}
										}
									},
									"required": ["command"],
									"additionalProperties": false
								}
							]
						}
					}
				]
			}
		},
		{
			"path": "properties.lsp.anyOf[1].additionalProperties",
			"key": "anyOf",
			"definition": {
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"disabled": {
								"type": "boolean",
								"const": true
							}
						},
						"required": ["disabled"],
						"additionalProperties": false
					},
					{
						"type": "object",
						"properties": {
							"command": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"extensions": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"disabled": {
								"type": "boolean"
							},
							"env": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "string"
								}
							},
							"initialization": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							}
						},
						"required": ["command"],
						"additionalProperties": false
					}
				]
			}
		},
		{
			"path": "properties.permission",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionConfig",
				"anyOf": [
					{
						"type": "object",
						"properties": {
							"__originalKeys": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"read": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"edit": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"glob": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"grep": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"list": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"bash": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"task": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"external_directory": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"todowrite": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"todoread": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"question": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"webfetch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"websearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"codesearch": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"lsp": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							},
							"doom_loop": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							"skill": {
								"ref": "PermissionRuleConfig",
								"anyOf": [
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									{
										"ref": "PermissionObjectConfig",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										}
									}
								]
							}
						},
						"additionalProperties": {
							"ref": "PermissionRuleConfig",
							"anyOf": [
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								},
								{
									"ref": "PermissionObjectConfig",
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								}
							]
						}
					},
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.read",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.edit",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.glob",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.grep",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.list",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.bash",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.task",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.external_directory",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.lsp",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.skill",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		},
		{
			"path": "properties.permission.anyOf[0].additionalProperties",
			"key": "anyOf",
			"definition": {
				"ref": "PermissionRuleConfig",
				"anyOf": [
					{
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					{
						"ref": "PermissionObjectConfig",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						}
					}
				]
			}
		}
	],
	"records": [
		{
			"path": "properties.command",
			"definition": {
				"description": "Command configuration, see https://opencode.ai/docs/commands",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "object",
					"properties": {
						"template": {
							"type": "string"
						},
						"description": {
							"type": "string"
						},
						"agent": {
							"type": "string"
						},
						"model": {
							"$ref": "https://models.dev/model-schema.json#/$defs/Model",
							"type": "string"
						},
						"subtask": {
							"type": "boolean"
						}
					},
					"required": ["template"],
					"additionalProperties": false
				}
			}
		},
		{
			"path": "properties.mode",
			"definition": {
				"description": "@deprecated Use `agent` field instead.",
				"type": "object",
				"properties": {
					"build": {
						"ref": "AgentConfig",
						"type": "object",
						"properties": {
							"model": {
								"$ref": "https://models.dev/model-schema.json#/$defs/Model",
								"type": "string"
							},
							"variant": {
								"description": "Default model variant for this agent (applies only when using the agent's configured model).",
								"type": "string"
							},
							"temperature": {
								"type": "number"
							},
							"top_p": {
								"type": "number"
							},
							"prompt": {
								"type": "string"
							},
							"tools": {
								"description": "@deprecated Use 'permission' field instead",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "boolean"
								}
							},
							"disable": {
								"type": "boolean"
							},
							"description": {
								"description": "Description of when to use the agent",
								"type": "string"
							},
							"mode": {
								"type": "string",
								"enum": ["subagent", "primary", "all"]
							},
							"hidden": {
								"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
								"type": "boolean"
							},
							"options": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							},
							"color": {
								"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
								"anyOf": [
									{
										"type": "string",
										"pattern": "^#[0-9a-fA-F]{6}$"
									},
									{
										"type": "string",
										"enum": [
											"primary",
											"secondary",
											"accent",
											"success",
											"warning",
											"error",
											"info"
										]
									}
								]
							},
							"steps": {
								"description": "Maximum number of agentic iterations before forcing text-only response",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"maxSteps": {
								"description": "@deprecated Use 'steps' field instead.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"permission": {
								"ref": "PermissionConfig",
								"anyOf": [
									{
										"type": "object",
										"properties": {
											"__originalKeys": {
												"type": "array",
												"items": {
													"type": "string"
												}
											},
											"read": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"edit": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"glob": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"grep": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"list": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"bash": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"task": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"external_directory": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"todowrite": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"todoread": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"question": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"webfetch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"websearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"codesearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"lsp": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"doom_loop": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"skill": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											}
										},
										"additionalProperties": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								]
							}
						},
						"additionalProperties": {}
					},
					"plan": {
						"ref": "AgentConfig",
						"type": "object",
						"properties": {
							"model": {
								"$ref": "https://models.dev/model-schema.json#/$defs/Model",
								"type": "string"
							},
							"variant": {
								"description": "Default model variant for this agent (applies only when using the agent's configured model).",
								"type": "string"
							},
							"temperature": {
								"type": "number"
							},
							"top_p": {
								"type": "number"
							},
							"prompt": {
								"type": "string"
							},
							"tools": {
								"description": "@deprecated Use 'permission' field instead",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "boolean"
								}
							},
							"disable": {
								"type": "boolean"
							},
							"description": {
								"description": "Description of when to use the agent",
								"type": "string"
							},
							"mode": {
								"type": "string",
								"enum": ["subagent", "primary", "all"]
							},
							"hidden": {
								"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
								"type": "boolean"
							},
							"options": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							},
							"color": {
								"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
								"anyOf": [
									{
										"type": "string",
										"pattern": "^#[0-9a-fA-F]{6}$"
									},
									{
										"type": "string",
										"enum": [
											"primary",
											"secondary",
											"accent",
											"success",
											"warning",
											"error",
											"info"
										]
									}
								]
							},
							"steps": {
								"description": "Maximum number of agentic iterations before forcing text-only response",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"maxSteps": {
								"description": "@deprecated Use 'steps' field instead.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"permission": {
								"ref": "PermissionConfig",
								"anyOf": [
									{
										"type": "object",
										"properties": {
											"__originalKeys": {
												"type": "array",
												"items": {
													"type": "string"
												}
											},
											"read": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"edit": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"glob": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"grep": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"list": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"bash": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"task": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"external_directory": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"todowrite": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"todoread": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"question": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"webfetch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"websearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"codesearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"lsp": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"doom_loop": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"skill": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											}
										},
										"additionalProperties": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								]
							}
						},
						"additionalProperties": {}
					}
				},
				"additionalProperties": {
					"ref": "AgentConfig",
					"type": "object",
					"properties": {
						"model": {
							"$ref": "https://models.dev/model-schema.json#/$defs/Model",
							"type": "string"
						},
						"variant": {
							"description": "Default model variant for this agent (applies only when using the agent's configured model).",
							"type": "string"
						},
						"temperature": {
							"type": "number"
						},
						"top_p": {
							"type": "number"
						},
						"prompt": {
							"type": "string"
						},
						"tools": {
							"description": "@deprecated Use 'permission' field instead",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"type": "boolean"
							}
						},
						"disable": {
							"type": "boolean"
						},
						"description": {
							"description": "Description of when to use the agent",
							"type": "string"
						},
						"mode": {
							"type": "string",
							"enum": ["subagent", "primary", "all"]
						},
						"hidden": {
							"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
							"type": "boolean"
						},
						"options": {
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {}
						},
						"color": {
							"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
							"anyOf": [
								{
									"type": "string",
									"pattern": "^#[0-9a-fA-F]{6}$"
								},
								{
									"type": "string",
									"enum": [
										"primary",
										"secondary",
										"accent",
										"success",
										"warning",
										"error",
										"info"
									]
								}
							]
						},
						"steps": {
							"description": "Maximum number of agentic iterations before forcing text-only response",
							"type": "integer",
							"exclusiveMinimum": 0,
							"maximum": 9007199254740991
						},
						"maxSteps": {
							"description": "@deprecated Use 'steps' field instead.",
							"type": "integer",
							"exclusiveMinimum": 0,
							"maximum": 9007199254740991
						},
						"permission": {
							"ref": "PermissionConfig",
							"anyOf": [
								{
									"type": "object",
									"properties": {
										"__originalKeys": {
											"type": "array",
											"items": {
												"type": "string"
											}
										},
										"read": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"edit": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"glob": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"grep": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"list": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"bash": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"task": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"external_directory": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"todowrite": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"todoread": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"question": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"webfetch": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"websearch": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"codesearch": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"lsp": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"doom_loop": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"skill": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									"additionalProperties": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							]
						}
					},
					"additionalProperties": {}
				}
			}
		},
		{
			"path": "properties.mode.properties.build",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent",
			"definition": {
				"description": "Agent configuration, see https://opencode.ai/docs/agents",
				"type": "object",
				"properties": {
					"plan": {
						"ref": "AgentConfig",
						"type": "object",
						"properties": {
							"model": {
								"$ref": "https://models.dev/model-schema.json#/$defs/Model",
								"type": "string"
							},
							"variant": {
								"description": "Default model variant for this agent (applies only when using the agent's configured model).",
								"type": "string"
							},
							"temperature": {
								"type": "number"
							},
							"top_p": {
								"type": "number"
							},
							"prompt": {
								"type": "string"
							},
							"tools": {
								"description": "@deprecated Use 'permission' field instead",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "boolean"
								}
							},
							"disable": {
								"type": "boolean"
							},
							"description": {
								"description": "Description of when to use the agent",
								"type": "string"
							},
							"mode": {
								"type": "string",
								"enum": ["subagent", "primary", "all"]
							},
							"hidden": {
								"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
								"type": "boolean"
							},
							"options": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							},
							"color": {
								"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
								"anyOf": [
									{
										"type": "string",
										"pattern": "^#[0-9a-fA-F]{6}$"
									},
									{
										"type": "string",
										"enum": [
											"primary",
											"secondary",
											"accent",
											"success",
											"warning",
											"error",
											"info"
										]
									}
								]
							},
							"steps": {
								"description": "Maximum number of agentic iterations before forcing text-only response",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"maxSteps": {
								"description": "@deprecated Use 'steps' field instead.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"permission": {
								"ref": "PermissionConfig",
								"anyOf": [
									{
										"type": "object",
										"properties": {
											"__originalKeys": {
												"type": "array",
												"items": {
													"type": "string"
												}
											},
											"read": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"edit": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"glob": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"grep": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"list": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"bash": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"task": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"external_directory": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"todowrite": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"todoread": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"question": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"webfetch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"websearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"codesearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"lsp": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"doom_loop": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"skill": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											}
										},
										"additionalProperties": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								]
							}
						},
						"additionalProperties": {}
					},
					"build": {
						"ref": "AgentConfig",
						"type": "object",
						"properties": {
							"model": {
								"$ref": "https://models.dev/model-schema.json#/$defs/Model",
								"type": "string"
							},
							"variant": {
								"description": "Default model variant for this agent (applies only when using the agent's configured model).",
								"type": "string"
							},
							"temperature": {
								"type": "number"
							},
							"top_p": {
								"type": "number"
							},
							"prompt": {
								"type": "string"
							},
							"tools": {
								"description": "@deprecated Use 'permission' field instead",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "boolean"
								}
							},
							"disable": {
								"type": "boolean"
							},
							"description": {
								"description": "Description of when to use the agent",
								"type": "string"
							},
							"mode": {
								"type": "string",
								"enum": ["subagent", "primary", "all"]
							},
							"hidden": {
								"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
								"type": "boolean"
							},
							"options": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							},
							"color": {
								"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
								"anyOf": [
									{
										"type": "string",
										"pattern": "^#[0-9a-fA-F]{6}$"
									},
									{
										"type": "string",
										"enum": [
											"primary",
											"secondary",
											"accent",
											"success",
											"warning",
											"error",
											"info"
										]
									}
								]
							},
							"steps": {
								"description": "Maximum number of agentic iterations before forcing text-only response",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"maxSteps": {
								"description": "@deprecated Use 'steps' field instead.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"permission": {
								"ref": "PermissionConfig",
								"anyOf": [
									{
										"type": "object",
										"properties": {
											"__originalKeys": {
												"type": "array",
												"items": {
													"type": "string"
												}
											},
											"read": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"edit": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"glob": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"grep": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"list": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"bash": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"task": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"external_directory": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"todowrite": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"todoread": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"question": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"webfetch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"websearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"codesearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"lsp": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"doom_loop": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"skill": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											}
										},
										"additionalProperties": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								]
							}
						},
						"additionalProperties": {}
					},
					"general": {
						"ref": "AgentConfig",
						"type": "object",
						"properties": {
							"model": {
								"$ref": "https://models.dev/model-schema.json#/$defs/Model",
								"type": "string"
							},
							"variant": {
								"description": "Default model variant for this agent (applies only when using the agent's configured model).",
								"type": "string"
							},
							"temperature": {
								"type": "number"
							},
							"top_p": {
								"type": "number"
							},
							"prompt": {
								"type": "string"
							},
							"tools": {
								"description": "@deprecated Use 'permission' field instead",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "boolean"
								}
							},
							"disable": {
								"type": "boolean"
							},
							"description": {
								"description": "Description of when to use the agent",
								"type": "string"
							},
							"mode": {
								"type": "string",
								"enum": ["subagent", "primary", "all"]
							},
							"hidden": {
								"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
								"type": "boolean"
							},
							"options": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							},
							"color": {
								"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
								"anyOf": [
									{
										"type": "string",
										"pattern": "^#[0-9a-fA-F]{6}$"
									},
									{
										"type": "string",
										"enum": [
											"primary",
											"secondary",
											"accent",
											"success",
											"warning",
											"error",
											"info"
										]
									}
								]
							},
							"steps": {
								"description": "Maximum number of agentic iterations before forcing text-only response",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"maxSteps": {
								"description": "@deprecated Use 'steps' field instead.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"permission": {
								"ref": "PermissionConfig",
								"anyOf": [
									{
										"type": "object",
										"properties": {
											"__originalKeys": {
												"type": "array",
												"items": {
													"type": "string"
												}
											},
											"read": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"edit": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"glob": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"grep": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"list": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"bash": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"task": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"external_directory": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"todowrite": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"todoread": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"question": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"webfetch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"websearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"codesearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"lsp": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"doom_loop": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"skill": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											}
										},
										"additionalProperties": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								]
							}
						},
						"additionalProperties": {}
					},
					"explore": {
						"ref": "AgentConfig",
						"type": "object",
						"properties": {
							"model": {
								"$ref": "https://models.dev/model-schema.json#/$defs/Model",
								"type": "string"
							},
							"variant": {
								"description": "Default model variant for this agent (applies only when using the agent's configured model).",
								"type": "string"
							},
							"temperature": {
								"type": "number"
							},
							"top_p": {
								"type": "number"
							},
							"prompt": {
								"type": "string"
							},
							"tools": {
								"description": "@deprecated Use 'permission' field instead",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "boolean"
								}
							},
							"disable": {
								"type": "boolean"
							},
							"description": {
								"description": "Description of when to use the agent",
								"type": "string"
							},
							"mode": {
								"type": "string",
								"enum": ["subagent", "primary", "all"]
							},
							"hidden": {
								"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
								"type": "boolean"
							},
							"options": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							},
							"color": {
								"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
								"anyOf": [
									{
										"type": "string",
										"pattern": "^#[0-9a-fA-F]{6}$"
									},
									{
										"type": "string",
										"enum": [
											"primary",
											"secondary",
											"accent",
											"success",
											"warning",
											"error",
											"info"
										]
									}
								]
							},
							"steps": {
								"description": "Maximum number of agentic iterations before forcing text-only response",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"maxSteps": {
								"description": "@deprecated Use 'steps' field instead.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"permission": {
								"ref": "PermissionConfig",
								"anyOf": [
									{
										"type": "object",
										"properties": {
											"__originalKeys": {
												"type": "array",
												"items": {
													"type": "string"
												}
											},
											"read": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"edit": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"glob": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"grep": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"list": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"bash": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"task": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"external_directory": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"todowrite": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"todoread": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"question": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"webfetch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"websearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"codesearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"lsp": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"doom_loop": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"skill": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											}
										},
										"additionalProperties": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								]
							}
						},
						"additionalProperties": {}
					},
					"title": {
						"ref": "AgentConfig",
						"type": "object",
						"properties": {
							"model": {
								"$ref": "https://models.dev/model-schema.json#/$defs/Model",
								"type": "string"
							},
							"variant": {
								"description": "Default model variant for this agent (applies only when using the agent's configured model).",
								"type": "string"
							},
							"temperature": {
								"type": "number"
							},
							"top_p": {
								"type": "number"
							},
							"prompt": {
								"type": "string"
							},
							"tools": {
								"description": "@deprecated Use 'permission' field instead",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "boolean"
								}
							},
							"disable": {
								"type": "boolean"
							},
							"description": {
								"description": "Description of when to use the agent",
								"type": "string"
							},
							"mode": {
								"type": "string",
								"enum": ["subagent", "primary", "all"]
							},
							"hidden": {
								"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
								"type": "boolean"
							},
							"options": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							},
							"color": {
								"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
								"anyOf": [
									{
										"type": "string",
										"pattern": "^#[0-9a-fA-F]{6}$"
									},
									{
										"type": "string",
										"enum": [
											"primary",
											"secondary",
											"accent",
											"success",
											"warning",
											"error",
											"info"
										]
									}
								]
							},
							"steps": {
								"description": "Maximum number of agentic iterations before forcing text-only response",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"maxSteps": {
								"description": "@deprecated Use 'steps' field instead.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"permission": {
								"ref": "PermissionConfig",
								"anyOf": [
									{
										"type": "object",
										"properties": {
											"__originalKeys": {
												"type": "array",
												"items": {
													"type": "string"
												}
											},
											"read": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"edit": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"glob": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"grep": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"list": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"bash": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"task": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"external_directory": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"todowrite": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"todoread": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"question": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"webfetch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"websearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"codesearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"lsp": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"doom_loop": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"skill": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											}
										},
										"additionalProperties": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								]
							}
						},
						"additionalProperties": {}
					},
					"summary": {
						"ref": "AgentConfig",
						"type": "object",
						"properties": {
							"model": {
								"$ref": "https://models.dev/model-schema.json#/$defs/Model",
								"type": "string"
							},
							"variant": {
								"description": "Default model variant for this agent (applies only when using the agent's configured model).",
								"type": "string"
							},
							"temperature": {
								"type": "number"
							},
							"top_p": {
								"type": "number"
							},
							"prompt": {
								"type": "string"
							},
							"tools": {
								"description": "@deprecated Use 'permission' field instead",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "boolean"
								}
							},
							"disable": {
								"type": "boolean"
							},
							"description": {
								"description": "Description of when to use the agent",
								"type": "string"
							},
							"mode": {
								"type": "string",
								"enum": ["subagent", "primary", "all"]
							},
							"hidden": {
								"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
								"type": "boolean"
							},
							"options": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							},
							"color": {
								"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
								"anyOf": [
									{
										"type": "string",
										"pattern": "^#[0-9a-fA-F]{6}$"
									},
									{
										"type": "string",
										"enum": [
											"primary",
											"secondary",
											"accent",
											"success",
											"warning",
											"error",
											"info"
										]
									}
								]
							},
							"steps": {
								"description": "Maximum number of agentic iterations before forcing text-only response",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"maxSteps": {
								"description": "@deprecated Use 'steps' field instead.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"permission": {
								"ref": "PermissionConfig",
								"anyOf": [
									{
										"type": "object",
										"properties": {
											"__originalKeys": {
												"type": "array",
												"items": {
													"type": "string"
												}
											},
											"read": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"edit": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"glob": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"grep": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"list": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"bash": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"task": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"external_directory": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"todowrite": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"todoread": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"question": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"webfetch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"websearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"codesearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"lsp": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"doom_loop": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"skill": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											}
										},
										"additionalProperties": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								]
							}
						},
						"additionalProperties": {}
					},
					"compaction": {
						"ref": "AgentConfig",
						"type": "object",
						"properties": {
							"model": {
								"$ref": "https://models.dev/model-schema.json#/$defs/Model",
								"type": "string"
							},
							"variant": {
								"description": "Default model variant for this agent (applies only when using the agent's configured model).",
								"type": "string"
							},
							"temperature": {
								"type": "number"
							},
							"top_p": {
								"type": "number"
							},
							"prompt": {
								"type": "string"
							},
							"tools": {
								"description": "@deprecated Use 'permission' field instead",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "boolean"
								}
							},
							"disable": {
								"type": "boolean"
							},
							"description": {
								"description": "Description of when to use the agent",
								"type": "string"
							},
							"mode": {
								"type": "string",
								"enum": ["subagent", "primary", "all"]
							},
							"hidden": {
								"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
								"type": "boolean"
							},
							"options": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							},
							"color": {
								"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
								"anyOf": [
									{
										"type": "string",
										"pattern": "^#[0-9a-fA-F]{6}$"
									},
									{
										"type": "string",
										"enum": [
											"primary",
											"secondary",
											"accent",
											"success",
											"warning",
											"error",
											"info"
										]
									}
								]
							},
							"steps": {
								"description": "Maximum number of agentic iterations before forcing text-only response",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"maxSteps": {
								"description": "@deprecated Use 'steps' field instead.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							"permission": {
								"ref": "PermissionConfig",
								"anyOf": [
									{
										"type": "object",
										"properties": {
											"__originalKeys": {
												"type": "array",
												"items": {
													"type": "string"
												}
											},
											"read": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"edit": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"glob": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"grep": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"list": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"bash": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"task": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"external_directory": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"todowrite": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"todoread": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"question": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"webfetch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"websearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"codesearch": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"lsp": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											},
											"doom_loop": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											"skill": {
												"ref": "PermissionRuleConfig",
												"anyOf": [
													{
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													},
													{
														"ref": "PermissionObjectConfig",
														"type": "object",
														"propertyNames": {
															"type": "string"
														},
														"additionalProperties": {
															"ref": "PermissionActionConfig",
															"type": "string",
															"enum": ["ask", "allow", "deny"]
														}
													}
												]
											}
										},
										"additionalProperties": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									{
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									}
								]
							}
						},
						"additionalProperties": {}
					}
				},
				"additionalProperties": {
					"ref": "AgentConfig",
					"type": "object",
					"properties": {
						"model": {
							"$ref": "https://models.dev/model-schema.json#/$defs/Model",
							"type": "string"
						},
						"variant": {
							"description": "Default model variant for this agent (applies only when using the agent's configured model).",
							"type": "string"
						},
						"temperature": {
							"type": "number"
						},
						"top_p": {
							"type": "number"
						},
						"prompt": {
							"type": "string"
						},
						"tools": {
							"description": "@deprecated Use 'permission' field instead",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"type": "boolean"
							}
						},
						"disable": {
							"type": "boolean"
						},
						"description": {
							"description": "Description of when to use the agent",
							"type": "string"
						},
						"mode": {
							"type": "string",
							"enum": ["subagent", "primary", "all"]
						},
						"hidden": {
							"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
							"type": "boolean"
						},
						"options": {
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {}
						},
						"color": {
							"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
							"anyOf": [
								{
									"type": "string",
									"pattern": "^#[0-9a-fA-F]{6}$"
								},
								{
									"type": "string",
									"enum": [
										"primary",
										"secondary",
										"accent",
										"success",
										"warning",
										"error",
										"info"
									]
								}
							]
						},
						"steps": {
							"description": "Maximum number of agentic iterations before forcing text-only response",
							"type": "integer",
							"exclusiveMinimum": 0,
							"maximum": 9007199254740991
						},
						"maxSteps": {
							"description": "@deprecated Use 'steps' field instead.",
							"type": "integer",
							"exclusiveMinimum": 0,
							"maximum": 9007199254740991
						},
						"permission": {
							"ref": "PermissionConfig",
							"anyOf": [
								{
									"type": "object",
									"properties": {
										"__originalKeys": {
											"type": "array",
											"items": {
												"type": "string"
											}
										},
										"read": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"edit": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"glob": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"grep": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"list": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"bash": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"task": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"external_directory": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"todowrite": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"todoread": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"question": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"webfetch": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"websearch": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"codesearch": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"lsp": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										},
										"doom_loop": {
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										"skill": {
											"ref": "PermissionRuleConfig",
											"anyOf": [
												{
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												},
												{
													"ref": "PermissionObjectConfig",
													"type": "object",
													"propertyNames": {
														"type": "string"
													},
													"additionalProperties": {
														"ref": "PermissionActionConfig",
														"type": "string",
														"enum": ["ask", "allow", "deny"]
													}
												}
											]
										}
									},
									"additionalProperties": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								{
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							]
						}
					},
					"additionalProperties": {}
				}
			}
		},
		{
			"path": "properties.agent.properties.plan",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties",
			"definition": {
				"ref": "AgentConfig",
				"type": "object",
				"properties": {
					"model": {
						"$ref": "https://models.dev/model-schema.json#/$defs/Model",
						"type": "string"
					},
					"variant": {
						"description": "Default model variant for this agent (applies only when using the agent's configured model).",
						"type": "string"
					},
					"temperature": {
						"type": "number"
					},
					"top_p": {
						"type": "number"
					},
					"prompt": {
						"type": "string"
					},
					"tools": {
						"description": "@deprecated Use 'permission' field instead",
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {
							"type": "boolean"
						}
					},
					"disable": {
						"type": "boolean"
					},
					"description": {
						"description": "Description of when to use the agent",
						"type": "string"
					},
					"mode": {
						"type": "string",
						"enum": ["subagent", "primary", "all"]
					},
					"hidden": {
						"description": "Hide this subagent from the @ autocomplete menu (default: false, only applies to mode: subagent)",
						"type": "boolean"
					},
					"options": {
						"type": "object",
						"propertyNames": {
							"type": "string"
						},
						"additionalProperties": {}
					},
					"color": {
						"description": "Hex color code (e.g., #FF5733) or theme color (e.g., primary)",
						"anyOf": [
							{
								"type": "string",
								"pattern": "^#[0-9a-fA-F]{6}$"
							},
							{
								"type": "string",
								"enum": [
									"primary",
									"secondary",
									"accent",
									"success",
									"warning",
									"error",
									"info"
								]
							}
						]
					},
					"steps": {
						"description": "Maximum number of agentic iterations before forcing text-only response",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"maxSteps": {
						"description": "@deprecated Use 'steps' field instead.",
						"type": "integer",
						"exclusiveMinimum": 0,
						"maximum": 9007199254740991
					},
					"permission": {
						"ref": "PermissionConfig",
						"anyOf": [
							{
								"type": "object",
								"properties": {
									"__originalKeys": {
										"type": "array",
										"items": {
											"type": "string"
										}
									},
									"read": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"edit": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"glob": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"grep": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"list": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"bash": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"task": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"external_directory": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"todowrite": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"todoread": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"question": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"webfetch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"websearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"codesearch": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"lsp": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									},
									"doom_loop": {
										"ref": "PermissionActionConfig",
										"type": "string",
										"enum": ["ask", "allow", "deny"]
									},
									"skill": {
										"ref": "PermissionRuleConfig",
										"anyOf": [
											{
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											},
											{
												"ref": "PermissionObjectConfig",
												"type": "object",
												"propertyNames": {
													"type": "string"
												},
												"additionalProperties": {
													"ref": "PermissionActionConfig",
													"type": "string",
													"enum": ["ask", "allow", "deny"]
												}
											}
										]
									}
								},
								"additionalProperties": {
									"ref": "PermissionRuleConfig",
									"anyOf": [
										{
											"ref": "PermissionActionConfig",
											"type": "string",
											"enum": ["ask", "allow", "deny"]
										},
										{
											"ref": "PermissionObjectConfig",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"ref": "PermissionActionConfig",
												"type": "string",
												"enum": ["ask", "allow", "deny"]
											}
										}
									]
								}
							},
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.tools",
			"definition": {
				"description": "@deprecated Use 'permission' field instead",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.provider",
			"definition": {
				"description": "Custom provider configurations and model overrides",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "ProviderConfig",
					"type": "object",
					"properties": {
						"api": {
							"type": "string"
						},
						"name": {
							"type": "string"
						},
						"env": {
							"type": "array",
							"items": {
								"type": "string"
							}
						},
						"id": {
							"type": "string"
						},
						"npm": {
							"type": "string"
						},
						"models": {
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"type": "object",
								"properties": {
									"id": {
										"type": "string"
									},
									"name": {
										"type": "string"
									},
									"family": {
										"type": "string"
									},
									"release_date": {
										"type": "string"
									},
									"attachment": {
										"type": "boolean"
									},
									"reasoning": {
										"type": "boolean"
									},
									"temperature": {
										"type": "boolean"
									},
									"tool_call": {
										"type": "boolean"
									},
									"interleaved": {
										"anyOf": [
											{
												"type": "boolean",
												"const": true
											},
											{
												"type": "object",
												"properties": {
													"field": {
														"type": "string",
														"enum": ["reasoning_content", "reasoning_details"]
													}
												},
												"required": ["field"],
												"additionalProperties": false
											}
										]
									},
									"cost": {
										"type": "object",
										"properties": {
											"input": {
												"type": "number"
											},
											"output": {
												"type": "number"
											},
											"cache_read": {
												"type": "number"
											},
											"cache_write": {
												"type": "number"
											},
											"context_over_200k": {
												"type": "object",
												"properties": {
													"input": {
														"type": "number"
													},
													"output": {
														"type": "number"
													},
													"cache_read": {
														"type": "number"
													},
													"cache_write": {
														"type": "number"
													}
												},
												"required": ["input", "output"],
												"additionalProperties": false
											}
										},
										"required": ["input", "output"],
										"additionalProperties": false
									},
									"limit": {
										"type": "object",
										"properties": {
											"context": {
												"type": "number"
											},
											"input": {
												"type": "number"
											},
											"output": {
												"type": "number"
											}
										},
										"required": ["context", "output"],
										"additionalProperties": false
									},
									"modalities": {
										"type": "object",
										"properties": {
											"input": {
												"type": "array",
												"items": {
													"type": "string",
													"enum": ["text", "audio", "image", "video", "pdf"]
												}
											},
											"output": {
												"type": "array",
												"items": {
													"type": "string",
													"enum": ["text", "audio", "image", "video", "pdf"]
												}
											}
										},
										"required": ["input", "output"],
										"additionalProperties": false
									},
									"experimental": {
										"type": "boolean"
									},
									"status": {
										"type": "string",
										"enum": ["alpha", "beta", "deprecated"]
									},
									"options": {
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {}
									},
									"headers": {
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"type": "string"
										}
									},
									"provider": {
										"type": "object",
										"properties": {
											"npm": {
												"type": "string"
											},
											"api": {
												"type": "string"
											}
										},
										"additionalProperties": false
									},
									"variants": {
										"description": "Variant-specific configuration",
										"type": "object",
										"propertyNames": {
											"type": "string"
										},
										"additionalProperties": {
											"type": "object",
											"properties": {
												"disabled": {
													"description": "Disable this variant for the model",
													"type": "boolean"
												}
											},
											"additionalProperties": {}
										}
									}
								},
								"additionalProperties": false
							}
						},
						"whitelist": {
							"type": "array",
							"items": {
								"type": "string"
							}
						},
						"blacklist": {
							"type": "array",
							"items": {
								"type": "string"
							}
						},
						"options": {
							"type": "object",
							"properties": {
								"apiKey": {
									"type": "string"
								},
								"baseURL": {
									"type": "string"
								},
								"enterpriseUrl": {
									"description": "GitHub Enterprise URL for copilot authentication",
									"type": "string"
								},
								"setCacheKey": {
									"description": "Enable promptCacheKey for this provider (default false)",
									"type": "boolean"
								},
								"timeout": {
									"description": "Timeout in milliseconds for requests to this provider. Default is 300000 (5 minutes). Set to false to disable timeout.",
									"anyOf": [
										{
											"description": "Timeout in milliseconds for requests to this provider. Default is 300000 (5 minutes). Set to false to disable timeout.",
											"type": "integer",
											"exclusiveMinimum": 0,
											"maximum": 9007199254740991
										},
										{
											"description": "Disable timeout for this provider entirely.",
											"type": "boolean",
											"const": false
										}
									]
								}
							},
							"additionalProperties": {}
						}
					},
					"additionalProperties": false
				}
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.models",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "object",
					"properties": {
						"id": {
							"type": "string"
						},
						"name": {
							"type": "string"
						},
						"family": {
							"type": "string"
						},
						"release_date": {
							"type": "string"
						},
						"attachment": {
							"type": "boolean"
						},
						"reasoning": {
							"type": "boolean"
						},
						"temperature": {
							"type": "boolean"
						},
						"tool_call": {
							"type": "boolean"
						},
						"interleaved": {
							"anyOf": [
								{
									"type": "boolean",
									"const": true
								},
								{
									"type": "object",
									"properties": {
										"field": {
											"type": "string",
											"enum": ["reasoning_content", "reasoning_details"]
										}
									},
									"required": ["field"],
									"additionalProperties": false
								}
							]
						},
						"cost": {
							"type": "object",
							"properties": {
								"input": {
									"type": "number"
								},
								"output": {
									"type": "number"
								},
								"cache_read": {
									"type": "number"
								},
								"cache_write": {
									"type": "number"
								},
								"context_over_200k": {
									"type": "object",
									"properties": {
										"input": {
											"type": "number"
										},
										"output": {
											"type": "number"
										},
										"cache_read": {
											"type": "number"
										},
										"cache_write": {
											"type": "number"
										}
									},
									"required": ["input", "output"],
									"additionalProperties": false
								}
							},
							"required": ["input", "output"],
							"additionalProperties": false
						},
						"limit": {
							"type": "object",
							"properties": {
								"context": {
									"type": "number"
								},
								"input": {
									"type": "number"
								},
								"output": {
									"type": "number"
								}
							},
							"required": ["context", "output"],
							"additionalProperties": false
						},
						"modalities": {
							"type": "object",
							"properties": {
								"input": {
									"type": "array",
									"items": {
										"type": "string",
										"enum": ["text", "audio", "image", "video", "pdf"]
									}
								},
								"output": {
									"type": "array",
									"items": {
										"type": "string",
										"enum": ["text", "audio", "image", "video", "pdf"]
									}
								}
							},
							"required": ["input", "output"],
							"additionalProperties": false
						},
						"experimental": {
							"type": "boolean"
						},
						"status": {
							"type": "string",
							"enum": ["alpha", "beta", "deprecated"]
						},
						"options": {
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {}
						},
						"headers": {
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"type": "string"
							}
						},
						"provider": {
							"type": "object",
							"properties": {
								"npm": {
									"type": "string"
								},
								"api": {
									"type": "string"
								}
							},
							"additionalProperties": false
						},
						"variants": {
							"description": "Variant-specific configuration",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"type": "object",
								"properties": {
									"disabled": {
										"description": "Disable this variant for the model",
										"type": "boolean"
									}
								},
								"additionalProperties": {}
							}
						}
					},
					"additionalProperties": false
				}
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.models.additionalProperties.properties.options",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.models.additionalProperties.properties.headers",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "string"
				}
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.models.additionalProperties.properties.variants",
			"definition": {
				"description": "Variant-specific configuration",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "object",
					"properties": {
						"disabled": {
							"description": "Disable this variant for the model",
							"type": "boolean"
						}
					},
					"additionalProperties": {}
				}
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.models.additionalProperties.properties.variants.additionalProperties",
			"definition": {
				"type": "object",
				"properties": {
					"disabled": {
						"description": "Disable this variant for the model",
						"type": "boolean"
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.options",
			"definition": {
				"type": "object",
				"properties": {
					"apiKey": {
						"type": "string"
					},
					"baseURL": {
						"type": "string"
					},
					"enterpriseUrl": {
						"description": "GitHub Enterprise URL for copilot authentication",
						"type": "string"
					},
					"setCacheKey": {
						"description": "Enable promptCacheKey for this provider (default false)",
						"type": "boolean"
					},
					"timeout": {
						"description": "Timeout in milliseconds for requests to this provider. Default is 300000 (5 minutes). Set to false to disable timeout.",
						"anyOf": [
							{
								"description": "Timeout in milliseconds for requests to this provider. Default is 300000 (5 minutes). Set to false to disable timeout.",
								"type": "integer",
								"exclusiveMinimum": 0,
								"maximum": 9007199254740991
							},
							{
								"description": "Disable timeout for this provider entirely.",
								"type": "boolean",
								"const": false
							}
						]
					}
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.mcp",
			"definition": {
				"description": "MCP (Model Context Protocol) server configurations",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"anyOf": [
						{
							"anyOf": [
								{
									"ref": "McpLocalConfig",
									"type": "object",
									"properties": {
										"type": {
											"description": "Type of MCP server connection",
											"type": "string",
											"const": "local"
										},
										"command": {
											"description": "Command and arguments to run the MCP server",
											"type": "array",
											"items": {
												"type": "string"
											}
										},
										"environment": {
											"description": "Environment variables to set when running the MCP server",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"type": "string"
											}
										},
										"enabled": {
											"description": "Enable or disable the MCP server on startup",
											"type": "boolean"
										},
										"timeout": {
											"description": "Timeout in ms for MCP server requests. Defaults to 5000 (5 seconds) if not specified.",
											"type": "integer",
											"exclusiveMinimum": 0,
											"maximum": 9007199254740991
										}
									},
									"required": ["type", "command"],
									"additionalProperties": false
								},
								{
									"ref": "McpRemoteConfig",
									"type": "object",
									"properties": {
										"type": {
											"description": "Type of MCP server connection",
											"type": "string",
											"const": "remote"
										},
										"url": {
											"description": "URL of the remote MCP server",
											"type": "string"
										},
										"enabled": {
											"description": "Enable or disable the MCP server on startup",
											"type": "boolean"
										},
										"headers": {
											"description": "Headers to send with the request",
											"type": "object",
											"propertyNames": {
												"type": "string"
											},
											"additionalProperties": {
												"type": "string"
											}
										},
										"oauth": {
											"description": "OAuth authentication configuration for the MCP server. Set to false to disable OAuth auto-detection.",
											"anyOf": [
												{
													"ref": "McpOAuthConfig",
													"type": "object",
													"properties": {
														"clientId": {
															"description": "OAuth client ID. If not provided, dynamic client registration (RFC 7591) will be attempted.",
															"type": "string"
														},
														"clientSecret": {
															"description": "OAuth client secret (if required by the authorization server)",
															"type": "string"
														},
														"scope": {
															"description": "OAuth scopes to request during authorization",
															"type": "string"
														}
													},
													"additionalProperties": false
												},
												{
													"type": "boolean",
													"const": false
												}
											]
										},
										"timeout": {
											"description": "Timeout in ms for MCP server requests. Defaults to 5000 (5 seconds) if not specified.",
											"type": "integer",
											"exclusiveMinimum": 0,
											"maximum": 9007199254740991
										}
									},
									"required": ["type", "url"],
									"additionalProperties": false
								}
							]
						},
						{
							"type": "object",
							"properties": {
								"enabled": {
									"type": "boolean"
								}
							},
							"required": ["enabled"],
							"additionalProperties": false
						}
					]
				}
			}
		},
		{
			"path": "properties.mcp.additionalProperties.anyOf[0].anyOf[0].properties.environment",
			"definition": {
				"description": "Environment variables to set when running the MCP server",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "string"
				}
			}
		},
		{
			"path": "properties.mcp.additionalProperties.anyOf[0].anyOf[1].properties.headers",
			"definition": {
				"description": "Headers to send with the request",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "string"
				}
			}
		},
		{
			"path": "properties.formatter.anyOf[1]",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "object",
					"properties": {
						"disabled": {
							"type": "boolean"
						},
						"command": {
							"type": "array",
							"items": {
								"type": "string"
							}
						},
						"environment": {
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"type": "string"
							}
						},
						"extensions": {
							"type": "array",
							"items": {
								"type": "string"
							}
						}
					},
					"additionalProperties": false
				}
			}
		},
		{
			"path": "properties.formatter.anyOf[1].additionalProperties.properties.environment",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "string"
				}
			}
		},
		{
			"path": "properties.lsp.anyOf[1]",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"anyOf": [
						{
							"type": "object",
							"properties": {
								"disabled": {
									"type": "boolean",
									"const": true
								}
							},
							"required": ["disabled"],
							"additionalProperties": false
						},
						{
							"type": "object",
							"properties": {
								"command": {
									"type": "array",
									"items": {
										"type": "string"
									}
								},
								"extensions": {
									"type": "array",
									"items": {
										"type": "string"
									}
								},
								"disabled": {
									"type": "boolean"
								},
								"env": {
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {
										"type": "string"
									}
								},
								"initialization": {
									"type": "object",
									"propertyNames": {
										"type": "string"
									},
									"additionalProperties": {}
								}
							},
							"required": ["command"],
							"additionalProperties": false
						}
					]
				}
			}
		},
		{
			"path": "properties.lsp.anyOf[1].additionalProperties.anyOf[1].properties.env",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "string"
				}
			}
		},
		{
			"path": "properties.lsp.anyOf[1].additionalProperties.anyOf[1].properties.initialization",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {}
			}
		},
		{
			"path": "properties.permission.anyOf[0]",
			"definition": {
				"type": "object",
				"properties": {
					"__originalKeys": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"read": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"edit": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"glob": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"grep": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"list": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"bash": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"task": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"external_directory": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"todowrite": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"todoread": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"question": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"webfetch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"websearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"codesearch": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"lsp": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					},
					"doom_loop": {
						"ref": "PermissionActionConfig",
						"type": "string",
						"enum": ["ask", "allow", "deny"]
					},
					"skill": {
						"ref": "PermissionRuleConfig",
						"anyOf": [
							{
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							},
							{
								"ref": "PermissionObjectConfig",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"ref": "PermissionActionConfig",
									"type": "string",
									"enum": ["ask", "allow", "deny"]
								}
							}
						]
					}
				},
				"additionalProperties": {
					"ref": "PermissionRuleConfig",
					"anyOf": [
						{
							"ref": "PermissionActionConfig",
							"type": "string",
							"enum": ["ask", "allow", "deny"]
						},
						{
							"ref": "PermissionObjectConfig",
							"type": "object",
							"propertyNames": {
								"type": "string"
							},
							"additionalProperties": {
								"ref": "PermissionActionConfig",
								"type": "string",
								"enum": ["ask", "allow", "deny"]
							}
						}
					]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.read.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.edit.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.glob.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.grep.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.list.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.bash.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.task.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.external_directory.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.lsp.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.skill.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.permission.anyOf[0].additionalProperties.anyOf[1]",
			"definition": {
				"ref": "PermissionObjectConfig",
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"ref": "PermissionActionConfig",
					"type": "string",
					"enum": ["ask", "allow", "deny"]
				}
			}
		},
		{
			"path": "properties.tools",
			"definition": {
				"type": "object",
				"propertyNames": {
					"type": "string"
				},
				"additionalProperties": {
					"type": "boolean"
				}
			}
		}
	],
	"provider": {
		"description": "Custom provider configurations and model overrides",
		"type": "object",
		"propertyNames": {
			"type": "string"
		},
		"additionalProperties": {
			"ref": "ProviderConfig",
			"type": "object",
			"properties": {
				"api": {
					"type": "string"
				},
				"name": {
					"type": "string"
				},
				"env": {
					"type": "array",
					"items": {
						"type": "string"
					}
				},
				"id": {
					"type": "string"
				},
				"npm": {
					"type": "string"
				},
				"models": {
					"type": "object",
					"propertyNames": {
						"type": "string"
					},
					"additionalProperties": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string"
							},
							"name": {
								"type": "string"
							},
							"family": {
								"type": "string"
							},
							"release_date": {
								"type": "string"
							},
							"attachment": {
								"type": "boolean"
							},
							"reasoning": {
								"type": "boolean"
							},
							"temperature": {
								"type": "boolean"
							},
							"tool_call": {
								"type": "boolean"
							},
							"interleaved": {
								"anyOf": [
									{
										"type": "boolean",
										"const": true
									},
									{
										"type": "object",
										"properties": {
											"field": {
												"type": "string",
												"enum": ["reasoning_content", "reasoning_details"]
											}
										},
										"required": ["field"],
										"additionalProperties": false
									}
								]
							},
							"cost": {
								"type": "object",
								"properties": {
									"input": {
										"type": "number"
									},
									"output": {
										"type": "number"
									},
									"cache_read": {
										"type": "number"
									},
									"cache_write": {
										"type": "number"
									},
									"context_over_200k": {
										"type": "object",
										"properties": {
											"input": {
												"type": "number"
											},
											"output": {
												"type": "number"
											},
											"cache_read": {
												"type": "number"
											},
											"cache_write": {
												"type": "number"
											}
										},
										"required": ["input", "output"],
										"additionalProperties": false
									}
								},
								"required": ["input", "output"],
								"additionalProperties": false
							},
							"limit": {
								"type": "object",
								"properties": {
									"context": {
										"type": "number"
									},
									"input": {
										"type": "number"
									},
									"output": {
										"type": "number"
									}
								},
								"required": ["context", "output"],
								"additionalProperties": false
							},
							"modalities": {
								"type": "object",
								"properties": {
									"input": {
										"type": "array",
										"items": {
											"type": "string",
											"enum": ["text", "audio", "image", "video", "pdf"]
										}
									},
									"output": {
										"type": "array",
										"items": {
											"type": "string",
											"enum": ["text", "audio", "image", "video", "pdf"]
										}
									}
								},
								"required": ["input", "output"],
								"additionalProperties": false
							},
							"experimental": {
								"type": "boolean"
							},
							"status": {
								"type": "string",
								"enum": ["alpha", "beta", "deprecated"]
							},
							"options": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {}
							},
							"headers": {
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "string"
								}
							},
							"provider": {
								"type": "object",
								"properties": {
									"npm": {
										"type": "string"
									},
									"api": {
										"type": "string"
									}
								},
								"additionalProperties": false
							},
							"variants": {
								"description": "Variant-specific configuration",
								"type": "object",
								"propertyNames": {
									"type": "string"
								},
								"additionalProperties": {
									"type": "object",
									"properties": {
										"disabled": {
											"description": "Disable this variant for the model",
											"type": "boolean"
										}
									},
									"additionalProperties": {}
								}
							}
						},
						"additionalProperties": false
					}
				},
				"whitelist": {
					"type": "array",
					"items": {
						"type": "string"
					}
				},
				"blacklist": {
					"type": "array",
					"items": {
						"type": "string"
					}
				},
				"options": {
					"type": "object",
					"properties": {
						"apiKey": {
							"type": "string"
						},
						"baseURL": {
							"type": "string"
						},
						"enterpriseUrl": {
							"description": "GitHub Enterprise URL for copilot authentication",
							"type": "string"
						},
						"setCacheKey": {
							"description": "Enable promptCacheKey for this provider (default false)",
							"type": "boolean"
						},
						"timeout": {
							"description": "Timeout in milliseconds for requests to this provider. Default is 300000 (5 minutes). Set to false to disable timeout.",
							"anyOf": [
								{
									"description": "Timeout in milliseconds for requests to this provider. Default is 300000 (5 minutes). Set to false to disable timeout.",
									"type": "integer",
									"exclusiveMinimum": 0,
									"maximum": 9007199254740991
								},
								{
									"description": "Disable timeout for this provider entirely.",
									"type": "boolean",
									"const": false
								}
							]
						}
					},
					"additionalProperties": {}
				}
			},
			"additionalProperties": false
		}
	},
	"tools": {
		"type": "object",
		"propertyNames": {
			"type": "string"
		},
		"additionalProperties": {
			"type": "boolean"
		}
	},
	"command": {
		"description": "Command configuration, see https://opencode.ai/docs/commands",
		"type": "object",
		"propertyNames": {
			"type": "string"
		},
		"additionalProperties": {
			"type": "object",
			"properties": {
				"template": {
					"type": "string"
				},
				"description": {
					"type": "string"
				},
				"agent": {
					"type": "string"
				},
				"model": {
					"$ref": "https://models.dev/model-schema.json#/$defs/Model",
					"type": "string"
				},
				"subtask": {
					"type": "boolean"
				}
			},
			"required": ["template"],
			"additionalProperties": false
		}
	},
	"arrays": [
		{
			"path": "properties.server.properties.cors",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.skills.properties.paths",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.skills.properties.urls",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.watcher.properties.ignore",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.plugin",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.disabled_providers",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.enabled_providers",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.mode.properties.build.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.mode.properties.plan.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.mode.additionalProperties.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.agent.properties.plan.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.agent.properties.build.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.agent.properties.general.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.agent.properties.explore.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.agent.properties.title.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.agent.properties.summary.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.agent.properties.compaction.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.agent.additionalProperties.properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.env",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.models.additionalProperties.properties.modalities.properties.input",
			"items": {
				"type": "string",
				"enum": ["text", "audio", "image", "video", "pdf"]
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.models.additionalProperties.properties.modalities.properties.output",
			"items": {
				"type": "string",
				"enum": ["text", "audio", "image", "video", "pdf"]
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.whitelist",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.provider.additionalProperties.properties.blacklist",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.mcp.additionalProperties.anyOf[0].anyOf[0].properties.command",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.formatter.anyOf[1].additionalProperties.properties.command",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.formatter.anyOf[1].additionalProperties.properties.extensions",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.lsp.anyOf[1].additionalProperties.anyOf[1].properties.command",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.lsp.anyOf[1].additionalProperties.anyOf[1].properties.extensions",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.instructions",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.permission.anyOf[0].properties.__originalKeys",
			"items": {
				"type": "string"
			}
		},
		{
			"path": "properties.experimental.properties.primary_tools",
			"items": {
				"type": "string"
			}
		}
	]
}
